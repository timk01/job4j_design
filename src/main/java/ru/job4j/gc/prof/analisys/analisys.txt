Parallel

по времени, мердж почти мгновенно (меньше секунды), вставками секунд 15, пузырек 1.5-2 минуты (что видно по ЦПУ, см. далее)

по памяти - есть определенные скачки, но память оперативно подчищалась (при мердже вообще не успела пройти полная очистка, но ее можно наблюдать при вставке (например 10) и при пузырьке (22, 31)

что в целом кореллируется с нагрузкой по ЦПУ (на картинке выше пики выделения памяти при вставке, потом при вставке - тут видимо попала и полная очистка и при начале пузырька - полная очистка сначала, потом еще одна)



G1.

Жрет в начале 5-6 МБ, периодически подчищая память (таких "пиков" как в паралелльом и сериале нет)

При заполнении - увеличиваетс макс до 8мб

При сортировке слиянием - пик до 8.5 (с 5-6), она проходит мнгновенно

Вставками - те же 15 секунд, также пик до 8.5 МБ, но памяти отожрала чуть меньше чем слиянием

Пузырек - чуть более 2 минут, также сначала пик до 8.5 и далее стабильное отъедание 7.2 мб во время сортировки; после - сброс до 5-6 мб


G1 в силу своей специфики, подчищает паралелльно с работой программы, т.е. пауз больше, но они размазаны (потому пики и сглаженней, что особенно видно при сортировке пузырьком). Из интересностей - есть например humongous space, да и вообще лог не поход на стандартный параллельГЦ


ZGC

Увеличил размер кучи до 500мб

Даже добавление 250000 элементов резко отожрало 50мб памяти, и по графику она не подчищается

Сортировка слиянием - мнговенная, но опять же изменений по памяти нет (и на графике, и в семплере, но видимо график
чуть подвирает - в семплере явно меьнше используемой памяти)

Вставками - по времени чуть быстрее, 13 секунд, с 12-13 загрузкой процессора, размер задействованный под кучу - тот же

Пузырек - те же 2 минуты, загрузка ПЦ 12-13%, но с увеличением размера хипа (график показывает до 60мб), но лог говорит до 100.

Опять же, ориентируясь на лог - для такой простой задачи хватило бы и 150мб с головой, при этом подсчистки было 2 - и размер кучи падал кардинально
Из главных выводов - ЗГЦ памятизависимый.

